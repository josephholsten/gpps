require 'rake'
require 'spec/rake/spectask'
require 'rake/rdoctask'

task :default => [:examples, :rdoc]

# Final portion for deliverable1
task :deliverable_one => :knowledge_representation

desc "Run all examples"
Spec::Rake::SpecTask.new('examples') do |t|
  t.spec_files = FileList['examples/**/*.rb']
end

task :knowledge_representation do
  require 'src/population'
  p = Population.new()
  p.fitnessAgainst(lambda {|params| ((params[0] ** 2)/2) + 1})
  
  a = p.fitnessArray().sort
  a.each { |f| print "Fitness(#{f})\n" }
  print "Max Fitness(#{a.max})\n"
  print "Min Fitness(#{a.min})\n"
  print "Avg Fitness(#{a.average})\n\n"
end

desc 'Generate documentation'
Rake::RDocTask.new do |rdoc|
  rdoc.rdoc_dir = "doc"
  rdoc.rdoc_files.include('README', 'src/**/*.rb')
  rdoc.options << "--quiet"
end

desc 'Remove all generated files'
task :clean do
  `rm -rf doc`
end